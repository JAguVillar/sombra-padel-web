---
import "../styles/global.css";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro Basics</title>
  </head>
  <body>
    <Header />
    <div
      class="scroll-line fixed top-0 left-[calc(50%)] w-[10px] bg-[#f3f5eb] z-0 h-0"
    >
    </div>
  </body>
  <slot />
  <Footer />
</html>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);
  gsap.set(".scroll-line", { height: 0 }); // asegura que empiece en 0px

  gsap.to(".scroll-line", {
    height: "100%",
    ease: "none",
    scrollTrigger: {
      trigger: "#lugar-key",
      start: "top bottom", // o "top top" para empezar desde el inicio del elemento
      endTrigger: "#footer-key", // o el ID del footer
      end: "bottom+=1000 top", // o "+=1000" para animar durante 1000px de scroll
      scrub: true,
    },
  });
</script>
