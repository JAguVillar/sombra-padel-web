---
import ArrowRight from "../components/icons/ArrowRight.astro";
---

<section id="hero-key" class="relative h-screen overflow-hidden">
  <!-- Fondo con imagen -->
  <div
    class="h-full w-full bg-[url('/hero2.png')] bg-cover bg-center relative z-0"
  >
    <!-- ‚úÖ Overlay, debajo del contenido -->
    <div
      id="shadow-overlay"
      class="absolute inset-0 pointer-events-none z-10"
      style="
      --black-opacity: 0;
      background: linear-gradient(160deg, rgba(0, 0, 0, var(--black-opacity)) 50%, rgba(0, 0, 0, 0) 100%);
    "
    >
    </div>

    <!-- ‚úÖ Contenido en z-20 -->
    <div class="h-full w-full flex items-center relative z-20">
      <div class="pl-8">
        <div class="z-30 relative">
          <h1 class="text-9xl font-black">JUGAR</h1>
          <h1 class="text-9xl font-black">AL PADEL</h1>
          <h2
            class="text-7xl font-black opacity-0 invisible text-gray-400"
            id="bajo-la-sombra-text"
          >
            BAJO LA SOMBRA
          </h2>
        </div>

        <div
          class="flex gap-4 pt-4 items-center opacity-0 invisible"
          id="bajo-la-sombra-button"
        >
          <button
            class="flex items-center justify-center gap-2 bg-white text-black px-4 py-2 rounded"
          >
            <span> Ped√≠ tu turno </span>
            <ArrowRight class="size-6" />
          </button>
          <h1>O</h1>
          <button
            class="flex items-center justify-center gap-2 bg-white text-black px-4 py-2 rounded"
          >
            <span> Ped√≠ tu fijo </span>
            <ArrowRight class="size-6" />
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const tl = gsap.timeline({
    scrollTrigger: {
      trigger: "#hero-key",
      start: "top top",
      end: "+=1000",
      scrub: 1,
      pin: true,
      pinSpacing: true,
    },
  });

  tl.to("#shadow-overlay", {
    "--black-opacity": 0.3,
    ease: "none",
  });
  tl.to("#bajo-la-sombra-text", {
    autoAlpha: 1,
    duration: 0.5,
    ease: "power2.out",
  });

  tl.to("#bajo-la-sombra-button", {
    autoAlpha: 1,
    duration: 0.3,
    ease: "power2.out",
  });

  const tl2 = gsap.timeline({
    scrollTrigger: {
      trigger: "#hero-key",
      start: "bottom top", // cuando la parte de abajo de #hero toca la parte de arriba del viewport
      toggleActions: "play none none reverse",
      markers: true, // üîß opcional para ver d√≥nde empieza
    },
  });

  tl2
    .to("header", {
      backgroundColor: "rgba(0, 0, 0, 0.3)",
      duration: 0.2,
      ease: "power1.out",
    })
    .to(".link", {
      autoAlpha: 0,
      duration: 0.2,
      ease: "power1.out",
    })
    .to(".header-wrapper", {
      maxWidth: "100%",
      duration: 0.2,
      ease: "power1.out",
    });
</script>

<!-- 
<section class="section">
  <div id="hero-key" class="relative h-screen overflow-hidden">
    <div class="grid grid-cols-2 w-full hero_layout">
      <div
        class="border-r-5 border-b-10 border-white flex flex-col justify-center pl-4 gap-6"
      >
        <h2 class="text-7xl">UNA NUEVA FORMA DE JUGAR AL P√ÅDEL</h2>
        <h2 id="bajo-la-sombra-text" class="text-8xl opacity-0 invisible">
          BAJO LA SOMBRA
        </h2>
      </div>
      <div
        class="border-l-5 border-b-10 border-white flex flex-col justify-center pr-4 gap-6 text-right z-40"
      >
        <h3
          id="bajo-la-sombra-button"
          class="text-8xl opacity-0 invisible cursor-pointer text-white hover:text-[#a0ae86] transition-color duration-150"
        >
          PED√ç UN TURNO
        </h3>
        <h3
          id="bajo-la-sombra-button"
          class="text-8xl opacity-0 invisible cursor-pointer text-white hover:text-[#a0ae86] transition-color duration-150"
        >
          PED√ç TU FIJO
        </h3> -->
<!-- <div class="flex gap-4 opacity-0 invisible" id="bajo-la-sombra-button">
          <button class="flex items-center justify-center gap-2">
            <span> Ped√≠ tu turno </span>
            <ArrowRight class="size-6" />
          </button>
          <h2>O</h2>
          <button class="flex items-center justify-center gap-2">
            <span> Ped√≠ tu fijo </span>
            <ArrowRight class="size-6" />
          </button>
        </div> -->
<!-- </div>
    </div>
    <div
      id="shadow-overlay"
      class="absolute inset-0 pointer-events-none"
      style="
          --black-opacity: 0;
          background: linear-gradient(160deg, rgba(0, 0, 0, var(--black-opacity)) 50%, rgba(0, 0, 0, 0) 100%);
        "
    >
    </div>
  </div>
</section> -->
